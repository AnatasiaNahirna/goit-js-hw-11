{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from \"axios\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nexport default function getImagesByQuery(query) {\n    return axios.get(\"https://pixabay.com/api/\", {\n        params: {\n            key: \"51402348-a0c5f352e8dacc54a34bc803e\",\n            q: query,\n            image_type: \"photo\",\n            orientation: \"horizontal\",\n            safesearch: true,\n        }\n    })\n        .then((response) => {\n            if (response.data.hits.length === 0) {\n                iziToast.show({\n                message: 'Sorry, there are no images matching your search query. Please try again!',\n                messageColor: \"#fff\",\n                backgroundColor: \"#EF4040\",\n                position: \"topRight\",\n                });\n                return response.data.hits;\n        };\n        \n        return response.data.hits;\n        })\n        .catch(error => { throw error })\n    }","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nlet galleryBox = new SimpleLightbox('.gallery a');\n\nexport function createGallery(images) {\n    const gallery = document.querySelector(\".gallery\");\n    const markup = images.map((image) => {\n        const { webformatURL, largeImageURL, tags, likes, views, comments, downloads } = image;\n        return `<li class=\"img-li\">\n        <a href=\"${largeImageURL}\">\n        <img src=\"${webformatURL}\" alt=\"${tags}\" class=\"img\">\n        <div class=\"all-stats\">\n        <div class=\"stats\"><p class=\"stats-name\">Likes</p><p class=\"stats-value\">${likes}</p></div>\n        <div class=\"stats\"><p class=\"stats-name\">Views</p><p class=\"stats-value\">${views}</p></div>\n        <div class=\"stats\"><p class=\"stats-name\">Comments</p><p class=\"stats-value\">${comments}</p></div>\n        <div class=\"stats\"><p class=\"stats-name\">Downloads</p><p class=\"stats-value\">${downloads}</p></div>\n        </div>\n        </a>\n        </li>`\n    }).join(\"\");\n    gallery.insertAdjacentHTML(\"beforeend\", markup);\n    galleryBox.refresh()\n}\n\nexport function clearGallery() { \n    document.querySelector(\".gallery\").innerHTML = ''\n}\n\nexport function showLoader() {\n    document.querySelector(\".loader\").classList.remove(\"visually-hidden\");\n }\n\nexport function hideLoader() {\n    document.querySelector(\".loader\").classList.add(\"visually-hidden\");\n}","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport getImages from \"./js/pixabay-api\"\nimport {createGallery as markup, clearGallery, showLoader, hideLoader} from \"./js/render-functions\"\n\nconst form = document.querySelector(\".form\");\n\nform.addEventListener(\"submit\", (ev) => {\n    ev.preventDefault()\n    const search = ev.currentTarget.elements['search-text'].value.trim()\n    if (!search) {\n        iziToast.show({\n            message: 'Please fill in the field',\n            messageColor: \"#fff\",\n            backgroundColor: \"#EF4040\",\n            position: \"topRight\",\n        });\n            return;\n    }\n\n    showLoader();\n    clearGallery();\n    getImages(search)\n        .then((images) => {\n            return markup(images)\n        })\n        .catch((error) => { \n                iziToast.show({\n                message: 'Error happened',\n                messageColor: \"#fff\",\n                backgroundColor: \"#EF4040\",\n                position: \"topRight\",\n                });\n            return;\n         })\n        .finally(() => {hideLoader()})\n});"],"names":["getImagesByQuery","query","axios","response","iziToast","error","galleryBox","SimpleLightbox","createGallery","images","gallery","markup","image","webformatURL","largeImageURL","tags","likes","views","comments","downloads","clearGallery","showLoader","hideLoader","form","ev","search","getImages"],"mappings":"owBAIe,SAASA,EAAiBC,EAAO,CAC5C,OAAOC,EAAM,IAAI,2BAA4B,CACzC,OAAQ,CACJ,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACf,CACT,CAAK,EACI,KAAME,IACCA,EAAS,KAAK,KAAK,SAAW,GAC9BC,EAAS,KAAK,CACd,QAAS,2EACT,aAAc,OACd,gBAAiB,UACjB,SAAU,UAC1B,CAAiB,EACMD,EAAS,KAAK,KAI5B,EACA,MAAME,GAAS,CAAE,MAAMA,EAAO,CACvC,CCzBA,IAAIC,EAAa,IAAIC,EAAe,YAAY,EAEzC,SAASC,EAAcC,EAAQ,CAClC,MAAMC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAASF,EAAO,IAAKG,GAAU,CACjC,KAAM,CAAE,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAW,EAAGP,EACjF,MAAO;AAAA,mBACIE,CAAa;AAAA,oBACZD,CAAY,UAAUE,CAAI;AAAA;AAAA,mFAEqCC,CAAK;AAAA,mFACLC,CAAK;AAAA,sFACFC,CAAQ;AAAA,uFACPC,CAAS;AAAA;AAAA;AAAA,cAIhG,CAAK,EAAE,KAAK,EAAE,EACVT,EAAQ,mBAAmB,YAAaC,CAAM,EAC9CL,EAAW,QAAS,CACxB,CAEO,SAASc,GAAe,CAC3B,SAAS,cAAc,UAAU,EAAE,UAAY,EACnD,CAEO,SAASC,GAAa,CACzB,SAAS,cAAc,SAAS,EAAE,UAAU,OAAO,iBAAiB,CACtE,CAEK,SAASC,GAAa,CACzB,SAAS,cAAc,SAAS,EAAE,UAAU,IAAI,iBAAiB,CACrE,CC9BA,MAAMC,EAAO,SAAS,cAAc,OAAO,EAE3CA,EAAK,iBAAiB,SAAWC,GAAO,CACpCA,EAAG,eAAgB,EACnB,MAAMC,EAASD,EAAG,cAAc,SAAS,aAAa,EAAE,MAAM,KAAM,EACpE,GAAI,CAACC,EAAQ,CACTrB,EAAS,KAAK,CACV,QAAS,2BACT,aAAc,OACd,gBAAiB,UACjB,SAAU,UACtB,CAAS,EACG,MACP,CAEDiB,IACAD,IACAM,EAAUD,CAAM,EACX,KAAMhB,GACIE,EAAOF,CAAM,CACvB,EACA,MAAOJ,GAAU,CACVD,EAAS,KAAK,CACd,QAAS,iBACT,aAAc,OACd,gBAAiB,UACjB,SAAU,UAC1B,CAAiB,CAEjB,CAAU,EACD,QAAQ,IAAM,CAACkB,EAAU,CAAE,CAAC,CACrC,CAAC"}